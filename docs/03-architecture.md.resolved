# Architecture

Pipeline:
1) Load config (scope allowlist, urls/sitemap, policies)
2) Expand targets (urls list + optional sitemap expansion)
3) Fetcher collects response artifacts per URL
4) Checks run independently and produce Findings
5) Scoring aggregates to category scores + overall score
6) Reporters write JSON + HTML (+ optional PDF)

Design:
- Plugin-based checks: each check is a pure function:
  input: ScanArtifact -> list[Finding]
- Reporters consume the same canonical ScanResult model

Key modules:
- models.py: ScanArtifact, Finding, ScanResult
- fetcher.py: httpx client + rate limiting + truncation
- checks/*: posture checks only
- policy.py: “required header policy” + baseline comparisons (later)
- reporters/*: json/html/pdf outputs
